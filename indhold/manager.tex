\section{Manager}

For at styre hvilke moduler der er aktive og håndtere at de kører på det rigtige tidspunkt findes der i arkitekturen et Manager komponent.
Manageren står for at indhente oplysninger om installerede moduler for derefter at gøre det muligt for brugeren at aktivere og deaktivere moduler.
Når systemet kører er det managerens opgave at sætte modulerne igang når det er nødvendigt.
Nogle moduler skal køre hele tiden, blandt andet sensorer, mens andre kun behøver at køre en gang om dagen, for eksempel analyser der kræver mere data.
Manageren står til sidst også for at koble views og moduler sammen så man kan visualisere sin data på mange forskellige måder.

De enkelte elementer i manageren vil i det følgende blive beskrevet.

\subsection{JSON-Parser}
\stefan{ligger lige nu i Data access layer, vi skal nok overveje om vores arkitektur giver mening}
\stefan{har skrevet det lidt mere generelt end bare JSONparser, mere som et ``Modul håndtering'' afsnit}

Når moduler bliver installeret på telefonen ved hovedapplikationen som udgangspunkt i noget om det nye modul.
Derfor undersøges telefonen for alle applikationer der er installeret under pakkenavnet ``dk.aau.cs.psylog.*'' og finder deres tilknyttede moduldefinition.
I \cref{app:json_schema} kan skemaerne for moduldefinitionerne ses.
\stefan{opdater skemaer når de engang er final}
Ud fra disse skemafiler generer vi med værktøjet \textit{jsonSchema2Pojo} \cite{jsonpojo} java klasser hvor moduldefinitionerne kan parses ind i og derefter benyttes i applikationen som et hvilket som helst andet objekt.

\stefan{indsæt afsnit om validering hvis vi implementerer dette}

Alle modulers versionsnumre gemmes i en tabel, og der bliver derefter konstrueret en graf der viser afhængigheder mellem moduler.

\subsection{Settings}
\input{indhold/indstilliinger_arbejdsblad}

\subsection{Modul start/ stop}
\stefan{''ikke implementeret endnu''}
\stefan{jeg er ikke sikker på hvad dette indebærer}

\subsection{Task Runner}

\subsection{View Controller}
\stefan{''ikke implementeret endnu''}
